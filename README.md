# PDG_demo
A toy implementation about Program Dependence Graph using LLVM by zhaosiying12138.

## File Organization
demo/test.c: original C test file  
demo/test\_opt.ll * test\_opt\_cfg.png: the LLVM IR & CFG generated by Clang  
demo/test\_opt\_with\_header.png & demo/test\_opt\_with\_header\_cfg.png: add unique ENTRY and STOP Basic Block to test\_opt.ll [manually]

## Usage
### Step 1: Make a testfile
clang -Xclang -disable-O0-optnone -S -O0 -emit-llvm test.c -o test\_tmp.ll  
opt -S -simplifycfg test\_tmp.ll -o test\_opt.ll  
opt -dot-cfg test\_opt.ll > /dev/null  
dot -T png -o test\_opt\_cfg.png .zsy\_test.dot  
